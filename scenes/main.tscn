[gd_scene load_steps=8 format=3 uid="uid://bygv0yy6ub70f"]

[ext_resource type="PackedScene" uid="uid://bkbe3agnbi8ax" path="res://scenes/player.tscn" id="1"]
[ext_resource type="Script" path="res://scripts/main.gd" id="2"]
[ext_resource type="PackedScene" uid="uid://bs502v65r6atd" path="res://scenes/circle.tscn" id="3"]
[ext_resource type="PackedScene" uid="uid://dt3y7lqjqvaxf" path="res://scenes/square.tscn" id="3_hixhj"]
[ext_resource type="Script" path="res://scenes/points.gd" id="4"]

[sub_resource type="Curve2D" id="3"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, -149.405, -129.75, 0, 0, 0, 0, 1452.86, -121.938, 0, 0, 0, 0, 1445.72, 860.347, 0, 0, 0, 0, -150.193, 857.969, 0, 0, 0, 0, -149.682, -129.153, 0, 0, 0, 0, -157.329, 1.74005)
}
point_count = 6

[sub_resource type="Environment" id="Environment_8qoey"]
background_mode = 3
glow_enabled = true
glow_levels/1 = 5.75
glow_levels/4 = 1.8
glow_levels/5 = 3.16
glow_bloom = 1.0
glow_blend_mode = 4
glow_hdr_threshold = 0.0

[node name="main" type="Node2D"]
script = ExtResource("2")
circle_scene = ExtResource("3")
squareScene = ExtResource("3_hixhj")

[node name="ColorRect" type="ColorRect" parent="."]
offset_left = -32.0
offset_top = -20.0
offset_right = 1648.0
offset_bottom = 809.0
color = Color(0, 0, 0, 1)

[node name="player" parent="." instance=ExtResource("1")]
position = Vector2(640, 360)

[node name="Path2D" type="Path2D" parent="."]
visible = false
curve = SubResource("3")

[node name="PathFollow2D" type="PathFollow2D" parent="Path2D"]
position = Vector2(-149.405, -129.75)
rotation = 0.00487556

[node name="spawntimer" type="Timer" parent="."]
wait_time = 2.0
one_shot = true
autostart = true

[node name="progressionTimer" type="Timer" parent="."]
wait_time = 10.0
autostart = true

[node name="points" type="Node2D" parent="."]
script = ExtResource("4")

[node name="point1" type="Marker2D" parent="points"]

[node name="point2" type="Marker2D" parent="points"]
position = Vector2(640, 0)

[node name="point3" type="Marker2D" parent="points"]
position = Vector2(1280, 0)

[node name="point4" type="Marker2D" parent="points"]
position = Vector2(1280, 360)

[node name="point5" type="Marker2D" parent="points"]
position = Vector2(1280, 720)

[node name="point6" type="Marker2D" parent="points"]
position = Vector2(640, 720)

[node name="point7" type="Marker2D" parent="points"]
position = Vector2(0, 720)

[node name="point8" type="Marker2D" parent="points"]
position = Vector2(0, 360)

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_8qoey")

[node name="UIControl" type="Control" parent="."]
z_index = 10
z_as_relative = false
layout_mode = 3
anchors_preset = 0
offset_right = 1280.0
offset_bottom = 720.0
size_flags_horizontal = 4
size_flags_vertical = 4

[node name="scoreLabel" type="Label" parent="UIControl"]
offset_left = 15.0
offset_top = 8.0
offset_right = 154.0
offset_bottom = 53.0
size_flags_horizontal = 0
size_flags_vertical = 0
theme_override_font_sizes/font_size = 32
text = "Score: 72"

[node name="restartLabel" type="Label" parent="UIControl"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -182.5
offset_top = -225.0
offset_right = 182.5
offset_bottom = -137.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 4
theme_override_font_sizes/font_size = 64
text = "Game Over!"
horizontal_alignment = 1

[node name="controlLabel" type="Label" parent="UIControl"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -134.0
offset_top = -114.5
offset_right = 134.0
offset_bottom = -69.5
grow_horizontal = 2
grow_vertical = 2
theme_override_font_sizes/font_size = 32
text = "Press R to restart"

[connection signal="endGame" from="player" to="." method="_on_player_end_game"]
[connection signal="timeout" from="spawntimer" to="." method="_on_spawntimer_timeout"]
[connection signal="timeout" from="progressionTimer" to="." method="_on_progression_timer_timeout"]
